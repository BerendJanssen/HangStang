<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Timer Game</title>
<style>
  /* Add your CSS styles here */
</style>
</head>
<body>

<h1>Timer Game</h1>

<label for="name">Enter your name:</label>
<input type="text" id="name" placeholder="Your Name">
<button onclick="startGame()">Start</button>

<div id="countdown"></div>
<div id="timer" style="display: none;">Time: 0 seconds</div>

<button onclick="stopGame()">Stop</button>

<h2>Scoreboard</h2>
<ol id="scoreboard"></ol>

<script>
// Establish WebSocket connection
const socket = new WebSocket('ws://your_nodemcu_ip_address:your_nodemcu_port');

// WebSocket event listener
socket.onmessage = function(event) {
  const message = event.data;
  if (message === "Object detected") {
    startGame(); // Start the game when an object is detected
  }
};

// Your existing JavaScript code for the timer game goes here
function startGame() {
  const name = document.getElementById('name').value;
  if (!name) {
    alert("Please enter your name!");
    return;
  }

  document.getElementById('name').setAttribute('readonly', true);
  document.getElementById('countdown').style.display = 'block';
  document.getElementById('countdown').innerText = 'Countdown: 5';
  document.getElementById('timer').style.display = 'none';

  countdownTimer = setInterval(updateCountdown, 1000);
}

function stopGame() {
  clearInterval(gameTimer);
  const name = document.getElementById('name').value;
  const time = document.getElementById('timer').innerText;
  scoreboardEntries.push({ name: name, time: time });
  updateScoreboard();
  document.getElementById('name').removeAttribute('readonly');
  document.getElementById('name').value = '';
}
</script>

</body>
</html>